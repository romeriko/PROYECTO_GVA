<div *ngIf="loading" style="position: absolute" class="progress">
  <div class="indeterminate"></div>
</div>

<app-main-layout [title]="'Logs'"></app-main-layout>
<div class="row">
  <div class="col s12 m12">
    <div class="card darken-1">
      <div class="card-content">
        <div class="row">
          <div class="col s6">
            <span class="card-title">Logs de estado de los dispositivos</span>
          </div>
          <div class="col s6 right">
            <label for="type">Dispositivo</label>
            <select (change)="loadLogs()" id="type" class="validate browser-default" [(ngModel)]="device">
              <option *ngFor="let device of devices" [ngValue]="device.id">
                {{device.name}} -  {{device.id}}
              </option>
            </select>
          </div>
        </div>

        <table class="striped highlight">
          <thead>
          <tr>
            <th *ngFor="let title of titles">{{title | uppercase}}</th>
          </tr>
          </thead>

          <tbody>
          <tr *ngFor="let row of logs">
            <td class="capitalize">
              <span>{{row.logDevice}}</span>
            </td>
            <td class="capitalize">
              <span>{{row.name}}</span>
            </td>
            <td class="capitalize">
              <span>{{row.status}}</span>
            </td>
            <td class="capitalize">
              <span>{{row.date | date: 'medium'}}</span>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>
